<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>招聘要求信息填写</title>
    <script type="text/javascript" src="js/jquery.js"></script>
    <script>
        function picture(){
            $.ajax({
                url: "/picture",
                type: 'POST',
                data: {'fileName': $("#fileName").val(), 'companyName': $("#companyName").val()},
                success: function (res) {
                    if(res=="success"){
                        function picture1(){
                            window.location.href='select'
                        }
                        picture1()
                    }else{
                        alert("error");
                    }
                },
                error: function (res) {
                    alert("error!!!!!")
                }
            });
        }

    </script>
    <script>
        function employment(){
            $.ajax({
                url: "/Recruit",
                type: 'POST',
                data: {'fileName': $("#fileName").val(), 'companyName': $("#companyName").val()},
                success: function (res) {
                    if(res=="success"){
                        function picture1(){
                            window.location.href='select'
                        }
                        picture1()
                    }else{
                        alert("error");
                    }
                },
                error: function (res) {
                    alert("error!!!!!")
                }
            });
        }

    </script>
    <style>
        body {

            margin: 0;
            padding: 0;
            background: url("../static/images/bgk.png") no-repeat;
            background-size: 100%;
        }
        h2 {
            margin-top: 100px;
        }
        input ,select{
            height: 30px;
            outline: none;
            border: 1px solid #3592c4;
            border-radius: 15px;
            padding-left: 10px;
        }
        .fo {
            font-size: 15px;
            font-weight: 600;
            color: #3592c4;
            padding: 50px;
        }
        .in {
            width: 100px;
            height: 30px;
            margin-left: 80px;
            background-color: white;
        }
        .in:hover {
            background-color: #3592c4;
        }
        .box {
            float: left;
            /*position: absolute;*/

            width: 400px;
            height: 400px;
            border:1px solid rgba(0,0,0,.3);
            border-radius: 25px;
        }
        img {
            float: left;
            width: 400px;
            height: 300px;
        }
        h2 {
            margin-top:100px;
            margin-left: 600px;
        }
        textarea {
            outline: none;
            width: 200px;
            height: 100px;
        }
        #fileName {
            margin: 0 0 0 0;
            border: 0 solid transparent;
            position:absolute; top:95px; right:325px; height:36px; filter:alpha(opacity:0);opacity: 0;width:75px;
            z-index: 9999;


        }
        .zhen {
            width: 75px;
            height: 36px;
            position: absolute;
            top:95px;
            left: 82px;
            border: 1px solid #3592c4;
            border-radius: 25px;
            line-height: 36px;
            text-align: center;
        }

    </style>


</head>

<body onload="init()">
<div class="box"><img src="../static/images/zhiyuan.png" ></div>
<form method="post" onsubmit="return false" action="##" class="fo">
    <h2 >请填写您的招聘要求：</h2>
    <table style="border: 1px;margin: 0 500px;" width="50%" cellpadding="5" cellspacing="0" >

        <tr>
            <td>公司名称</td>
            <td><input type="text" id="companyName"> </td>
        </tr>
        <tr style="margin: 85px 0">
            <td>公司logo</td>
            <td style="position: relative"> <input type="file" id="fileName" size="28" onchange="imgPreview(this)"><div class="zhen" >添加图片</div> </td>
            <td style="height: 130px;position: relative"><img  id="preview" style="width: 75px;height: 85px;position: absolute;top:0;left: -400px" alt="" title="preview-img">
            </td>
        </tr>


        <tr>
            <td>职业类别</td>
            <td><input type="text" name="category"> </td>
        </tr>

        <tr>
            <td>公司剩余职位</td>
            <td><input type="text" name="job"> </td>
        </tr>


        <tr>
            <td>月薪要求</td>
            <td><input type="text" name="pay"> </td>
        </tr>
        <tr>
            <td>工期</td>
            <td><select style="width: 96%" name="Duration">
                <option>长工（一年至五年以下，年结）</option>
                <option>短工（一年以下，月结）</option>
            </select></td>
        </tr>
        <tr>
            <td>工作经验</td>
            <td><textarea cols="200" rows="5" style="resize: none" name="experience"></textarea> </td>
        </tr>



        <tr>
            <td colspan="4" align="left" >
                <input type="submit" value="提交" class="in">
                <input type="reset" value="退出" class="in">
            </td>
        </tr>
    </table>

</form>
<script type="text/javascript">
    function imgPreview(fileDom){
        //判断是否支持FileReader
        if (window.FileReader) {
            var reader = new FileReader();
        } else {
            alert("您的设备不支持图片预览功能，如需该功能请升级您的设备！");
        }

        //获取文件
        var file = fileDom.files[0];
        var imageType = /^image\//;
        //是否是图片
        if (!imageType.test(file.type)) {
            alert("请选择图片！");
            return;
        }
        //读取完成
        reader.onload = function(e) {
            //获取图片dom
            var img = document.getElementById("preview");
            //图片路径设置为读取的图片
            img.src = e.target.result;
            if(img.src)
            {
                picture();
                alert('aaa');
            }
        };
        reader.readAsDataURL(file);

    }



</script>
</body>
</html>